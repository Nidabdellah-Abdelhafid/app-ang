<div class="bg-white w-64 min-h-[84.8vh] justify-between border-r flex flex-col">
  <div class="flex-1 overflow-y-auto p-4">
    <div>
      <ul class="menu menu-sm gap-2" *ngIf="currentUser">
        <li><a routerLink="/home" class="flex items-center gap-3 px-3 py-2 text-gray-600 hover:text-primary hover:bg-primary/5 rounded-lg">
          <i class="bi bi-house text-lg"></i><span>Home</span>
        </a></li>
        
        <div *ngIf="isAdmin">
          <li class="menu-title mt-4">
            <span class="text-xs font-medium text-gray-400 px-3">ADMIN</span>
          </li>
          <li *ngFor="let item of ['users', 'roles', 'paiements', 'factures']">
            <a [routerLink]="'/' + item" class="flex items-center gap-3 px-3 py-2 text-gray-600 hover:text-primary hover:bg-primary/5 rounded-lg">
              <i [class]="'bi bi-' + (item === 'users' ? 'people' : item === 'roles' ? 'shield' : item === 'paiements' ? 'credit-card' : 'receipt') + ' text-lg'"></i>
              <span class="capitalize">{{item}}</span>
            </a>
          </li>
        </div>

        <li class="menu-title mt-4" >
          <span class="text-xs font-medium text-gray-400 px-3">TRAVEL MANAGEMENT</span>
        </li>
        <li>
          <details class="group">
            <summary class="flex items-center gap-3 px-3 py-2 text-gray-600 hover:text-primary hover:bg-primary/5 rounded-lg cursor-pointer">
              <i class="bi bi-airplane text-lg"></i>
              <span>Travel</span>
             </summary>
            <ul class="menu-sub pl-6 mt-2 space-y-1">
              <li *ngFor="let item of ['offres', 'pays', 'photos', 'planings', 'programmes', 'reservations', 'themes', 'badges']">
                <a [routerLink]="'/' + item" class="flex items-center gap-3 px-3 py-2 text-gray-600 hover:text-primary hover:bg-primary/5 rounded-lg">
                  <i [class]="'bi bi-' + (
                    item === 'offres' ? 'box' :
                    item === 'pays' ? 'globe' :
                    item === 'photos' ? 'image' :
                    item === 'planings' ? 'calendar3' :
                    item === 'programmes' ? 'list-check' :
                    item === 'reservations' ? 'bookmark' :
                    item === 'themes' ? 'palette' : 'award'
                  ) + ' text-lg'"></i>
                  <span class="capitalize">{{item}}</span>
                </a>
              </li>
            </ul>
          </details>
        </li>

        <li class="menu-title mt-4">
          <span class="text-xs font-medium text-gray-400 px-3">COMMUNICATION</span>
        </li>
        <li>
          <details class="group">
            <summary class="flex items-center gap-3 px-3 py-2 text-gray-600 hover:text-primary hover:bg-primary/5 rounded-lg cursor-pointer">
              <i class="bi bi-chat-dots text-lg"></i>
              <span>Features</span>
            </summary>
            <ul class="menu-sub pl-6 mt-2 space-y-1">
              <li *ngFor="let item of ['messages', 'notifications']">
                <a [routerLink]="'/' + item" class="flex items-center gap-3 px-3 py-2 text-gray-600 hover:text-primary hover:bg-primary/5 rounded-lg">
                  <i [class]="'bi bi-' + (item === 'messages' ? 'chat' : 'bell') + ' text-lg'"></i>
                  <span class="capitalize">{{item}}</span>
                </a>
              </li>
            </ul>
          </details>
        </li>
      </ul>
    </div>
  </div>

  <!-- User Profile Section -->
  <div class="border-t bg-base-100/30 p-4" *ngIf="currentUser">
    <div class="dropdown dropdown-top w-full">
      <label tabindex="0" class="w-full flex items-center hover:bg-base-200 rounded-xl p-2 transition-all duration-200 cursor-pointer">
        <div class="flex items-center gap-3">
          <div class="avatar online">
            <div class="w-10 rounded-full ring ring-primary/50 ring-offset-2">
              <img [src]="'https://ui-avatars.com/api/?name=' + currentUser['sub'] + '&background=random&bold=true&format=svg&rounded=true'" 
                  [alt]="currentUser['sub']"
                  class="bg-base-200" title="avatar"/>
            </div>
          </div>
          <div class="flex flex-col items-start">
            <div class="font-medium text-sm text-gray-700">{{currentUser['sub']}}</div>
            <div class="flex items-center gap-1.5 text-xs text-success/80">
              <span class="w-1.5 h-1.5 bg-success rounded-full animate-pulse"></span>
              Active Now
            </div>
          </div>
        </div>
      </label>
      <ul tabindex="0" class="dropdown-content z-[1] menu p-2 shadow-xl bg-base-100 rounded-xl w-56 mt-1">
        <div class="px-4 py-2">
          <p class="text-xs text-gray-500">Signed in as</p>
          <p class="text-sm font-semibold text-gray-700 truncate">{{currentUser['sub']}}</p>
        </div>
        <li class="mt-2">
          <a routerLink="/profile" class="flex items-center gap-3 px-4 py-2 text-gray-700 hover:text-primary hover:bg-primary/5 rounded-lg active:bg-transparent">
            <i class="bi bi-person text-lg"></i>View Profile
          </a>
        </li>
        <li>
          <a routerLink="/settings" class="flex items-center gap-3 px-4 py-2 text-gray-700 hover:text-primary hover:bg-primary/5 rounded-lg active:bg-transparent">
            <i class="bi bi-gear text-lg"></i>Settings
          </a>
        </li>
        <div class="my-1 h-px bg-gray-100"></div>
        <li>
          <a (click)="logOut()" class="flex items-center gap-3 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg active:bg-transparent">
            <i class="bi bi-box-arrow-right text-lg"></i>Sign Out
          </a>
        </li>
      </ul>
  </div>
  </div>

  <!-- Login/Register Section -->
  <div class="border-t bg-base-100/30 p-4" *ngIf="!currentUser">
    <div class="flex flex-col gap-3">
      <div class="text-sm text-gray-500 text-center mb-1">
        Get started with your account
      </div>
      <a routerLink="/login" 
        class="btn btn-primary btn-sm w-full gap-2 border-none rounded-md">
        <!-- <i class="bi bi-box-arrow-in-right text-lg"></i> -->
        <span class="font-medium">Sign In</span>
      </a>
      <div class="relative">
        <div class="absolute inset-0 flex items-center">
          <div class="w-full border-t border-gray-200"></div>
        </div>
        <div class="relative flex justify-center text-xs">
          <span class="bg-white px-2 text-gray-400">or</span>
        </div>
      </div>
      <a routerLink="/createUser" 
        class="btn btn-error btn-sm w-full gap-2 shadow-lg shadow-primary/20 hover:shadow-primary/30 transition-all duration-200 rounded-md">
        <!-- <i class="bi bi-person-plus text-lg"></i> -->
        <span class="font-medium">Register</span>
      </a>
    </div>
  </div>
</div>